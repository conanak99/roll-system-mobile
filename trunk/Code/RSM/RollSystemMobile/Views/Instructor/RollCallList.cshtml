@model RollSystemMobile.Models.ViewModels.InstructorViewModel
@{
    ViewBag.Title = "RollCallList";
}
<h4>
    My current teaching classes.</h4>
<div>
    <table class="table table-condensed">
        <thead>
            <tr>
                <th>
                    No
                </th>
                <th>
                    Class
                </th>
                <th>
                    Subject
                </th>
                <th>
                    Time
                </th>
                <th>
                    Date
                </th>
                <th>
                    Action
                </th>
            </tr>
        </thead>
        <tbody>
            @{ int rollIndex = 1;}
            @foreach (var RollCall in Model.TeachingRollCall)
            {
                bool IsCurrentRollCall = Model.CurrentRollCall != null && RollCall.RollCallID == Model.CurrentRollCall.RollCallID;   
                <tr class="@(IsCurrentRollCall ? "success" : "")">
                    <td>
                        @rollIndex
                    </td>
                    <td>
                        @RollCall.Class.ClassName
                    </td>
                    <td>
                        @RollCall.Subject.ShortName
                    </td>
                    <td>
                        @RollCall.StartTime.ToString(@"hh\:mm") - @RollCall.EndTime.ToString(@"hh\:mm")
                    </td>
                    <td>
                        @RollCall.BeginDate.ToString("dd-MM-yyyy") to @RollCall.EndDate.ToString("dd-MM-yyyy")
                    </td>
                    <td class="text-center">
                        @if (!IsCurrentRollCall)
                        {
                            <a class="btn btn-info" href="@Url.Action("RollCallDetail", "Instructor", new { id = @RollCall.RollCallID })">
                                View Detail</a>
                        }
                        else
                        {
                            <a class="btn btn-success" href="@Url.Action("Index", "Instructor")">Take Attendance</a>
                            <a class="btn btn-info" href="@Url.Action("RollCallDetail", "Instructor", new { id = @RollCall.RollCallID })">
                                View Detail</a>
                        }
                    </td>
                </tr>
                        { rollIndex++; }
            }
        </tbody>
    </table>
</div>
