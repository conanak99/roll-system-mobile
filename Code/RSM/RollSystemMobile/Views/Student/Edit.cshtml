@model RollSystemMobile.Models.Student
@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Staff/_Layout.cshtml";
}
<h2>
    Edit</h2>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
@using (Html.BeginForm())
{
    @Html.HiddenFor(model => model.StudentID)
    @Html.HiddenFor(model => model.StudentCode)
    @Html.HiddenFor(model => model.IsActive)
    @Html.ValidationSummary(true)
    <table class="table">
        <tr>
            <td>
                <div class="editor-label">
                    @Html.LabelFor(model => model.ClassID, "Class")
                </div>
                <div class="editor-field">
                    @Html.DropDownList("ClassID", (SelectList)ViewBag.ClassID, new { style = "width: 130px;" })
                    @Html.ValidationMessageFor(model => model.ClassID)
                </div>
                <div class="editor-label">
                    @Html.LabelFor(model => model.FullName)
                </div>
                <div class="editor-field">
                    @Html.EditorFor(model => model.FullName)
                    @Html.ValidationMessageFor(model => model.FullName)
                </div>
                <div class="editor-label">
                    @Html.LabelFor(model => model.Birthdate)
                </div>
                <div class="editor-field">
                    <div class="input-append date" id="birthdate" data-date="10-10-2013" data-date-format="dd-mm-yyyy">
                        <input class="span2" name="birthdate" id="birthdate" style="width: 100px;" size="16"
                            type="text" data-date-format="dd-mm-yyyy" readonly><span class="add-on"><i class="icon-th"></i></span>
                    </div>
                </div>
                <div class="editor-label">
                    @Html.LabelFor(model => model.CitizenID)
                </div>
                <div class="editor-field">
                    @Html.TextBoxFor(model => model.CitizenID, new { style = "width: 130px;" })
                    @Html.ValidationMessageFor(model => model.CitizenID)
                </div>
            </td>
            <td>
                <div class="editor-label">
                    @Html.LabelFor(model => model.Address)
                </div>
                <div class="editor-field">
                    @Html.TextBoxFor(model => model.Address, new { style = "width: 250px;" })
                    @Html.ValidationMessageFor(model => model.Address)
                </div>
                <div class="editor-label">
                    @Html.LabelFor(model => model.Email)
                </div>
                <div class="editor-field">
                    @Html.TextBoxFor(model => model.Email, new { style = "width: 200px;" })
                    @Html.ValidationMessageFor(model => model.Email)
                </div>
                <div class="editor-label">
                    @Html.LabelFor(model => model.StudentCode)
                </div>
                <div class="editor-field">
                   @Model.StudentCode
                </div>
            </td>
        </tr>
    </table>
    <p>
        <input class="btn btn-primary" type="submit" value="Save" />
    </p>
}
<p style="font-size: 20px;">
    @Html.ActionLink("Back to List", "Index")
</p>
<script>
    var nowTemp = new Date();
    var now = new Date(nowTemp.getFullYear(), nowTemp.getMonth(), nowTemp.getDate(), 0, 0, 0, 0);
    var defaultDate = new Date('@ViewBag.Birthdate');
    var birthdate = $("#birthdate").datepicker
            ({
                onRender: function (date) {
                    return (now.getFullYear() - date.getFullYear()) <= 12 ||
                            (now.getFullYear() - date.getFullYear()) >= 60 ? 'disabled' : '';
                }
            }).on('changeDate', function (ev) {
                begindate.hide();
            }).data('datepicker');
    birthdate.setValue(defaultDate);
</script>
